<<<<<<< HEAD
(function($){var slider=null;var methods={init:function(options){var options=$.extend({'slideTransition':'none','slideTransitionSpeed':2000,'slideEndAnimation':true,'position':'0,0','transitionIn':'left','transitionOut':'left','fullWidth':false,'delay':0,'timeout':2000,'speedIn':2500,'speedOut':1000,'easeIn':'easeOutExpo','easeOut':'easeOutCubic','controls':false,'pager':false,'autoChange':true,'backgroundAnimation':false,'backgroundElement':null,'backgroundX':500,'backgroundY':500,'backgroundSpeed':2500,'backgroundEase':'easeOutCubic','responsive':false,'dimensions':'',},options);return this.each(function(){slider=new FractionSlider(this,options);});},pause:function(){slider.pause();},resume:function(){slider.resume();},stop:function(){slider.stop();},start:function(){slider.start();},startNextSlide:function(){slider.startNextSlide();}};var FractionSlider=function(element,options){var vars={init:true,running:false,pause:false,stop:false,controlsActive:true,currentSlide:0,lastSlide:null,maxSlide:0,currentStep:0,maxStep:0,currentObj:0,maxObjs:0,finishedObjs:0};var temp={currentSlide:null,lastSlide:null,animationkey:'none',};var timeouts=[];var fractionObjs=null;var dX=null,dy=null;$(element).wrapInner('<div class="fraction-slider" />');var slider=$(element).find('.fraction-slider'),pager=null;vars.maxSlide=slider.children('.slide').length-1;var sliderWidth=slider.width();var bodyWidth=$('body').width();var offsetX=0;if(options['fullWidth']){offsetX=(bodyWidth-sliderWidth)/2;sliderWidth=bodyWidth;}var sliderHeight=slider.height();init();function init(){if(options['controls']){slider.append('<a href="#" class="prev"></a><a href="#" class="next" ></a>');slider.find('.next').bind('click',function(){return nextBtnPressed();});slider.find('.prev').bind('click',function(){return prevBtnPressed();});}if(options['fullWidth']){slider.css({'overflow':'visible'});}else{slider.css({'overflow':'hidden'});}if(options['pager']){pager=$('<div class="fs-pager-wrapper"></div>');slider.append(pager);}slider.children('.slide').each(function(index){var slide=$(this);slide.children().attr('rel',index).addClass('fs_obj');slide.children('[data-fixed]').addClass('fs_fixed_obj');if(options['pager']){var tempObj=$('<a rel="'+index+'" href="#"></a>').bind('click',function(){return pagerPressed(this);});pager.append(tempObj);}});if(options['pager']){pager=$(pager).children('a');}if(options['responsive']){makeResponsive();}if(slider.find('.fs_loader').length>0){slider.find('.fs_loader').remove();}start();}function start(){vars.stop=false;vars.pause=false;vars.running=true;cycle('slide');}this.start=function(){start();}
function startNextSlide(){vars.stop=false;vars.pause=false;vars.running=true;nextSlide();}this.startNextSlide=function(){startNextSlide();}
function stop(){vars.stop=true;vars.running=false;slider.find('.slide').stop(true,true);slider.find('.fs_obj').stop(true,true).removeClass('fs-animation');stopTimeouts(timeouts);}this.stop=function(){stop();}
function pause(){vars.pause=true;vars.running=false;slider.find('.fs-animation').finish();}this.pause=function(){pause();}
function resume(){vars.stop=false;vars.pause=false;vars.running=true;if(vars.finishedObjs<vars.maxObjs){cycle('obj');}else
if(vars.currentStep<vars.maxStep){cycle('step');}else{cycle('slide');}}this.resume=function(){resume();}
function nextSlide(){vars.lastSlide=vars.currentSlide;vars.currentSlide++;vars.stop=false;vars.pause=false;vars.running=true;slideChangeControler();}function prevSlide(){vars.lastSlide=vars.currentSlide;vars.currentSlide--;vars.stop=false;vars.pause=false;vars.running=true;slideChangeControler();}function targetSlide(slide){vars.lastSlide=vars.currentSlide;vars.currentSlide=slide;vars.stop=false;vars.pause=false;vars.running=true;slideChangeControler();}function pagerPressed(el){stop();targetSlide($(el).attr('rel'));return false;}function prevBtnPressed(){stop();prevSlide();return false;}function nextBtnPressed(){stop();nextSlide();return false;}function cycle(type){if(!vars.pause&&!vars.stop&&vars.running){switch(type){case"slide":slideRotation();break;case"step":iterateSteps();break;case"obj":iterateObjs();break;}}}function slideRotation(){var timeout=options['timeout'];if(vars.init){vars.init=false;slideChangeControler(true);}else{timeouts.push(setTimeout(function(){if(vars.maxSlide==0&&vars.running==true){}else{vars.lastSlide=vars.currentSlide;vars.currentSlide++;slideChangeControler();}},timeout));}}function slideChangeControler(init){$('.active-slide').removeClass('active-slide');if(vars.currentSlide>vars.maxSlide){vars.currentSlide=0;}if(vars.currentSlide<0){vars.currentSlide=vars.maxSlide;}temp.currentSlide=slider.children('.slide:eq('+vars.currentSlide+')').addClass('active-slide');if(temp.currentSlide.length==0){vars.currentSlide=0;temp.currentSlide=slider.children('.slide:eq('+vars.currentSlide+')');}if(vars.lastSlide!=null){if(vars.lastSlide<0){vars.lastSlide=vars.maxSlide;}temp.lastSlide=slider.children('.slide:eq('+vars.lastSlide+')');}if(init){temp.animation='none';}else{temp.animation=temp.currentSlide.attr("data-in");if(temp.animation==null){temp.animation=options['slideTransition'];}}if(options['slideEndAnimation']&&vars.lastSlide!=null){objOut();}else{switch(temp.animation){case'none':startSlide();endSlide();break;case'scrollLeft':startSlide();endSlide();break;case'scrollRight':startSlide();endSlide();break;case'scrollTop':startSlide();endSlide();break;case'scrollBottom':startSlide();endSlide();break;default:startSlide();break;}}}function startSlide(){if(options['backgroundAnimation']){backgroundAnimation();};if(options['pager']){pager.removeClass('active');pager.eq(vars.currentSlide).addClass('active');};getStepsForSlide();temp.currentSlide.children().hide();vars.currentStep=0;vars.currentObj=0;vars.maxObjs=0;vars.finishedObjs=0;temp.currentSlide.children("[data-fixed]").show();slideAnimationIn();}function startSlideComplete(slide){if(temp.lastSlide!=null){temp.lastSlide.hide();}if(slide.hasClass('active-slide')){cycle('step');}}function endSlide(){if(temp.lastSlide==null){return;}if(temp.animation!='none'){slideAnimationOut();}}function endSlideComplete(){}function getStepsForSlide(){var objs=temp.currentSlide.children();var maximum=0;objs.each(function(){var value=parseFloat($(this).attr('data-step'));maximum=(value>maximum)?value:maximum;});vars.maxStep=maximum;}function iterateSteps(){if(vars.currentStep==0){var objs=temp.currentSlide.children('*:not([data-step]):not([data-fixed]), *[data-step="'+vars.currentStep+'"]:not([data-fixed])');}else{var objs=temp.currentSlide.children('*[data-step="'+vars.currentStep+'"]:not([data-fixed])');}vars.maxObjs=objs.length;fractionObjs=objs;if(vars.maxObjs>0){vars.currentObj=0;vars.finishedObjs=0;cycle('obj');}else{stepFinished();}}function stepFinished(){vars.currentStep++
if(vars.currentStep>vars.maxStep){if(options['autoChange']){vars.currentStep=0;cycle('slide');}return;}cycle('step');}function iterateObjs(){var obj=$(fractionObjs[vars.currentObj]);obj.addClass('fs-animation');var position=obj.attr("data-position");var transition=obj.attr("data-in");var delay=obj.attr("data-delay");var time=obj.attr('data-time');var easing=obj.attr('data-ease-in');var special=obj.attr("data-special");if(position==null){position=options['position'].split(',');}else{position=position.split(',');}if(transition==null){transition=options['transitionIn'];}if(delay==null){delay=options['delay'];}if(easing==null){easing=options['easeIn'];}objectAnimationIn(obj,position,transition,delay,time,easing,special);vars.currentObj++;if(vars.currentObj<vars.maxObjs){cycle('obj');}else{vars.currentObj=0;}}function objFinished(obj){obj.removeClass('fs-animation');if(obj.attr('rel')==vars.currentSlide){vars.finishedObjs++;if(vars.finishedObjs==vars.maxObjs){stepFinished();}}}function objOut(){var objs=temp.lastSlide.children(':not([data-fixed])');objs.each(function(){var obj=$(this);var position=obj.position();var transition=obj.attr("data-out");var easing=obj.attr("data-ease-out");if(transition==null){transition=options['transitionOut'];}if(easing==null){easing=options['easeOut'];}objectAnimationOut(obj,position,transition,null,easing);}).promise().done(function(){endSlide();startSlide();});}function slideAnimationIn(){var slide=temp.currentSlide;var cssStart={},cssEnd={};var speed=options['slideTransitionSpeed'];var animation=temp.animation;if(options['responsive']){unit='%';}else{unit='px';}switch(animation){case'slideLeft':cssStart.left=sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'slideTop':cssStart.left=0+unit;cssStart.top=0-sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'slideBottom':cssStart.left=0+unit;cssStart.top=sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'slideRight':cssStart.left=0-sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'fade':cssStart.left=0+unit;cssStart.top=0+unit;cssStart.display='block';cssStart.opacity=0;cssEnd.opacity=1;break;case'none':cssStart.left=0+unit;cssStart.top=0+unit;cssStart.display='block';speed=0;break;case'scrollLeft':cssStart.left=sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'scrollTop':cssStart.left=0+unit;cssStart.top=0-sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'scrollBottom':cssStart.left=0+unit;cssStart.top=sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'scrollRight':cssStart.left=0-sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;}slide.css(cssStart).animate(cssEnd,speed,'linear',function(){startSlideComplete(slide);});}function slideAnimationOut(){var cssStart={},cssEnd={};var speed=options['slideTransitionSpeed'];var unit=null;var animation=temp.animation;if(options['responsive']){unit='%';}else{unit='px';}switch(animation){case'scrollLeft':cssEnd.left=0-sliderWidth+unit;cssEnd.top=0+unit;break;case'scrollTop':cssEnd.left=0+unit;cssEnd.top=sliderHeight+unit;break;case'scrollBottom':cssEnd.left=0+unit;cssEnd.top=0-sliderHeight+unit;break;case'scrollRight':cssEnd.left=sliderWidth+unit;cssEnd.top=0+unit;break;default:speed=0;break;}temp.lastSlide.animate(cssEnd,speed,'linear',function(){endSlideComplete();});}function objectAnimationIn(obj,position,transition,delay,time,easing,special){var cssStart={},cssEnd={};var speed=options['speedIn'],unit=null;if(options['responsive']){unit='%';}else{unit='px';}if(time!=null){speed=time-delay;}switch(transition){case'left':cssStart.top=position[0];cssStart.left=sliderWidth;break;case'bottomLeft':cssStart.top=sliderHeight;cssStart.left=sliderWidth;break;case'topLeft':cssStart.top=obj.outerHeight()*-1;cssStart.left=sliderWidth;break;case'top':cssStart.top=obj.outerHeight()*-1;cssStart.left=position[1];break;case'bottom':cssStart.top=sliderHeight;cssStart.left=position[1];break;case'right':cssStart.top=position[0];cssStart.left=0-offsetX-obj.outerWidth();break;case'bottomRight':cssStart.top=sliderHeight;cssStart.left=0-offsetX-obj.outerWidth();break;case'topRight':cssStart.top=obj.outerHeight()*-1;cssStart.left=0-offsetX-obj.outerWidth();break;case'fade':cssStart.top=position[0];cssStart.left=position[1];cssStart.opacity=0;cssEnd.opacity=1;break;case'none':cssStart.top=position[0];cssStart.left=position[1];cssStart.display='none';speed=0;break;}cssEnd.top=position[0];cssEnd.left=position[1];cssEnd.left=cssEnd.left+unit;cssEnd.top=cssEnd.top+unit;cssStart.left=cssStart.left+unit;cssStart.top=cssStart.top+unit;timeouts.push(setTimeout(function(){if(special=='cycle'&&obj.attr('rel')==vars.currentSlide){var tmp=obj.prev();if(tmp.length>0){var tmpPosition=$(tmp).attr('data-position').split(',');tmpPosition={'top':tmpPosition[0],'left':tmpPosition[1]};var tmpTransition=$(tmp).attr('data-out');if(tmpTransition==null){tmpTransition=options['transitionOut'];}objectAnimationOut(tmp,tmpPosition,tmpTransition,speed);}}obj.css(cssStart).show().animate(cssEnd,speed,easing,function(){objFinished(obj);}).addClass('fs_obj_active');},delay));}function objectAnimationOut(obj,position,transition,speed,easing){var cssStart={},cssEnd={};var speed=options['speedOut'],unit=null;if(options['responsive']){unit='%';}else{unit='px';}var w=obj.outerWidth(),h=obj.outerHeight();if(options['responsive']){w=pixelToPercent(w,dX);h=pixelToPercent(h,dY);}switch(transition){case'left':cssEnd.left=0-offsetX-100-w;break;case'bottomLeft':cssEnd.top=sliderHeight;cssEnd.left=0-offsetX-100-w;break;case'topLeft':cssEnd.top=-h;cssEnd.left=0-offsetX-100-w;break;case'top':cssEnd.top=-h;break;case'bottom':cssEnd.top=sliderHeight;break;case'right':cssEnd.left=sliderWidth;break;case'bottomRight':cssEnd.top=sliderHeight;cssEnd.left=sliderWidth;break;case'topRight':cssEnd.top=-h;cssEnd.left=sliderWidth;break;case'fade':cssStart.opacity=1;cssEnd.opacity=0;break;case'hide':cssEnd.display='none';speed=0;break;default:cssEnd.display='none';speed=0;break;}if(typeof cssEnd.top!=='undefined'){if(cssEnd.top.toString().indexOf('px')>0){cssEnd.top=cssEnd.top.substring(0,cssEnd.top.length-2);if(options['responsive']){cssEnd.top=pixelToPercent(cssEnd.top,dY);}}};if(typeof cssEnd.left!=='undefined'){if(cssEnd.left.toString().indexOf('px')>0){cssEnd.left=cssEnd.left.substring(0,cssEnd.left.length-2);if(options['responsive']){cssEnd.left=pixelToPercent(cssEnd.left,dX);}}}cssEnd.left=cssEnd.left+unit;cssEnd.top=cssEnd.top+unit;obj.css(cssStart).animate(cssEnd,speed,easing,function(){obj.hide();}).removeClass('fs_obj_active');}function backgroundAnimation(){if(options['backgroundElement']==null||options['backgroundElement']==""){var el=slider.parent();}else{var el=$(options['backgroundElement']);}var oldPos=el.css('background-position');oldPos=oldPos.split(' ');var moveX=options['backgroundX'];var moveY=options['backgroundY'];var x=Number(oldPos[0].replace(/[px,%]/g,''))+Number(moveX);var y=Number(oldPos[1].replace(/[px,%]/g,''))+Number(moveY);el.animate({backgroundPositionX:x+'px',backgroundPositionY:y+'px'},options['backgroundSpeed'],options['backgroundEase']);}function makeResponsive(){var d=options['dimensions'].split(',');dX=d['0'],dY=d['1'];var objs=slider.children('.slide').find('*');objs.each(function(){var obj=$(this),x=null,y=null,value=null;if(obj.attr("data-position")!=null){var position=obj.attr("data-position").split(',');x=pixelToPercent(position[1],dX);y=pixelToPercent(position[0],dY);obj.attr("data-position",y+','+x);}if(obj.attr("width")!=null){value=obj.attr("width");x=pixelToPercent(value,dX);obj.attr("width",x+"%");obj.css("width",x+"%");}else
if(obj.css('width')!='0px'){value=obj.css("width");if(value.indexOf('px')>0){value=value.substring(0,value.length-2);x=pixelToPercent(value,dX);obj.css("width",x+"%");};}else
if(obj.prop("tagName").toLowerCase()=='img'){value=obj.get(0).width;x=pixelToPercent(value,dX);obj.css("width",x+"%");}if(obj.attr("height")!=null){value=obj.attr("height");y=pixelToPercent(value,dY);obj.attr("height",y+"%");obj.css("height",y+"%");}else
if(obj.css('height')!='0px'){value=obj.css("height");if(value.indexOf('px')>0){value=value.substring(0,value.length-2);y=pixelToPercent(value,dY);obj.css("height",y+"%");};}else
if(obj.prop("tagName").toLowerCase()=='img'){value=obj.get(0).height;y=pixelToPercent(value,dY);obj.css("height",y+"%");}obj.attr('data-fontsize',obj.css('font-size'));});slider.css({'width':'auto','height':'auto'}).append('<div class="fs-stretcher" style="width:'+dX+'px; height:'+dY+'px"></div>');resizeSlider();$(window).bind('resize',function(){resizeSlider();});}function resizeSlider(){var w=slider.innerWidth(),h=slider.innerHeight();if(w<dX){var xy=dX/dY,nH=w/xy;slider.find('.fs-stretcher').css({'width':w+'px','height':nH+"px"});}var sW=slider.width();offsetX=pixelToPercent(((bodyWidth-sW)/2),dX);sliderWidth=100;if(options['fullWidth']){sliderWidth=100+offsetX*2;}sliderHeight=100;if(vars.init==false||w<dX){resizeFontSize();}}function resizeFontSize(){var value=null,n=null;var objs=slider.children('.slide').find('*');objs.each(function(){obj=$(this);var value=obj.attr('data-fontsize');if(value.indexOf('px')>0){value=value.substring(0,value.length-2);n=pixelToPercent(value,dY)*(slider.find('.fs-stretcher').height()/100);obj.css("fontSize",n+"px");obj.css("lineHeight",'100%');};});}function pixelToPercent(value,d){return value/(d/100);}function stopTimeout(timeout){clearTimeout(timeout);}function stopTimeouts(timeouts){var length=timeouts.length;$.each(timeouts,function(index){clearTimeout(this);if(index==length-1){timeouts=[];}});}}
=======
(function($){var slider=null;var methods={init:function(options){var options=$.extend({'slideTransition':'none','slideTransitionSpeed':2000,'slideEndAnimation':true,'position':'0,0','transitionIn':'left','transitionOut':'left','fullWidth':false,'delay':0,'timeout':2000,'speedIn':2500,'speedOut':1000,'easeIn':'easeOutExpo','easeOut':'easeOutCubic','controls':false,'pager':false,'autoChange':true,'backgroundAnimation':false,'backgroundElement':null,'backgroundX':500,'backgroundY':500,'backgroundSpeed':2500,'backgroundEase':'easeOutCubic','responsive':false,'dimensions':'',},options);return this.each(function(){slider=new FractionSlider(this,options);});},pause:function(){slider.pause();},resume:function(){slider.resume();},stop:function(){slider.stop();},start:function(){slider.start();},startNextSlide:function(){slider.startNextSlide();}};var FractionSlider=function(element,options){var vars={init:true,running:false,pause:false,stop:false,controlsActive:true,currentSlide:0,lastSlide:null,maxSlide:0,currentStep:0,maxStep:0,currentObj:0,maxObjs:0,finishedObjs:0};var temp={currentSlide:null,lastSlide:null,animationkey:'none',};var timeouts=[];var fractionObjs=null;var dX=null,dy=null;$(element).wrapInner('<div class="fraction-slider" />');var slider=$(element).find('.fraction-slider'),pager=null;vars.maxSlide=slider.children('.slide').length-1;var sliderWidth=slider.width();var bodyWidth=$('body').width();var offsetX=0;if(options['fullWidth']){offsetX=(bodyWidth-sliderWidth)/2;sliderWidth=bodyWidth;}var sliderHeight=slider.height();init();function init(){if(options['controls']){slider.append('<a href="#" class="prev"></a><a href="#" class="next" ></a>');slider.find('.next').bind('click',function(){return nextBtnPressed();});slider.find('.prev').bind('click',function(){return prevBtnPressed();});}if(options['fullWidth']){slider.css({'overflow':'visible'});}else{slider.css({'overflow':'hidden'});}if(options['pager']){pager=$('<div class="fs-pager-wrapper"></div>');slider.append(pager);}slider.children('.slide').each(function(index){var slide=$(this);slide.children().attr('rel',index).addClass('fs_obj');slide.children('[data-fixed]').addClass('fs_fixed_obj');if(options['pager']){var tempObj=$('<a rel="'+index+'" href="#"></a>').bind('click',function(){return pagerPressed(this);});pager.append(tempObj);}});if(options['pager']){pager=$(pager).children('a');}if(options['responsive']){makeResponsive();}if(slider.find('.fs_loader').length>0){slider.find('.fs_loader').remove();}start();}function start(){vars.stop=false;vars.pause=false;vars.running=true;cycle('slide');}this.start=function(){start();}
function startNextSlide(){vars.stop=false;vars.pause=false;vars.running=true;nextSlide();}this.startNextSlide=function(){startNextSlide();}
function stop(){vars.stop=true;vars.running=false;slider.find('.slide').stop(true,true);slider.find('.fs_obj').stop(true,true).removeClass('fs-animation');stopTimeouts(timeouts);}this.stop=function(){stop();}
function pause(){vars.pause=true;vars.running=false;slider.find('.fs-animation').finish();}this.pause=function(){pause();}
function resume(){vars.stop=false;vars.pause=false;vars.running=true;if(vars.finishedObjs<vars.maxObjs){cycle('obj');}else
if(vars.currentStep<vars.maxStep){cycle('step');}else{cycle('slide');}}this.resume=function(){resume();}
function nextSlide(){vars.lastSlide=vars.currentSlide;vars.currentSlide++;vars.stop=false;vars.pause=false;vars.running=true;slideChangeControler();}function prevSlide(){vars.lastSlide=vars.currentSlide;vars.currentSlide--;vars.stop=false;vars.pause=false;vars.running=true;slideChangeControler();}function targetSlide(slide){vars.lastSlide=vars.currentSlide;vars.currentSlide=slide;vars.stop=false;vars.pause=false;vars.running=true;slideChangeControler();}function pagerPressed(el){stop();targetSlide($(el).attr('rel'));return false;}function prevBtnPressed(){stop();prevSlide();return false;}function nextBtnPressed(){stop();nextSlide();return false;}function cycle(type){if(!vars.pause&&!vars.stop&&vars.running){switch(type){case"slide":slideRotation();break;case"step":iterateSteps();break;case"obj":iterateObjs();break;}}}function slideRotation(){var timeout=options['timeout'];if(vars.init){vars.init=false;slideChangeControler(true);}else{timeouts.push(setTimeout(function(){if(vars.maxSlide==0&&vars.running==true){}else{vars.lastSlide=vars.currentSlide;vars.currentSlide++;slideChangeControler();}},timeout));}}function slideChangeControler(init){$('.active-slide').removeClass('active-slide');if(vars.currentSlide>vars.maxSlide){vars.currentSlide=0;}if(vars.currentSlide<0){vars.currentSlide=vars.maxSlide;}temp.currentSlide=slider.children('.slide:eq('+vars.currentSlide+')').addClass('active-slide');if(temp.currentSlide.length==0){vars.currentSlide=0;temp.currentSlide=slider.children('.slide:eq('+vars.currentSlide+')');}if(vars.lastSlide!=null){if(vars.lastSlide<0){vars.lastSlide=vars.maxSlide;}temp.lastSlide=slider.children('.slide:eq('+vars.lastSlide+')');}if(init){temp.animation='none';}else{temp.animation=temp.currentSlide.attr("data-in");if(temp.animation==null){temp.animation=options['slideTransition'];}}if(options['slideEndAnimation']&&vars.lastSlide!=null){objOut();}else{switch(temp.animation){case'none':startSlide();endSlide();break;case'scrollLeft':startSlide();endSlide();break;case'scrollRight':startSlide();endSlide();break;case'scrollTop':startSlide();endSlide();break;case'scrollBottom':startSlide();endSlide();break;default:startSlide();break;}}}function startSlide(){if(options['backgroundAnimation']){backgroundAnimation();};if(options['pager']){pager.removeClass('active');pager.eq(vars.currentSlide).addClass('active');};getStepsForSlide();temp.currentSlide.children().hide();vars.currentStep=0;vars.currentObj=0;vars.maxObjs=0;vars.finishedObjs=0;temp.currentSlide.children("[data-fixed]").show();slideAnimationIn();}function startSlideComplete(slide){if(temp.lastSlide!=null){temp.lastSlide.hide();}if(slide.hasClass('active-slide')){cycle('step');}}function endSlide(){if(temp.lastSlide==null){return;}if(temp.animation!='none'){slideAnimationOut();}}function endSlideComplete(){}function getStepsForSlide(){var objs=temp.currentSlide.children();var maximum=0;objs.each(function(){var value=parseFloat($(this).attr('data-step'));maximum=(value>maximum)?value:maximum;});vars.maxStep=maximum;}function iterateSteps(){if(vars.currentStep==0){var objs=temp.currentSlide.children('*:not([data-step]):not([data-fixed]), *[data-step="'+vars.currentStep+'"]:not([data-fixed])');}else{var objs=temp.currentSlide.children('*[data-step="'+vars.currentStep+'"]:not([data-fixed])');}vars.maxObjs=objs.length;fractionObjs=objs;if(vars.maxObjs>0){vars.currentObj=0;vars.finishedObjs=0;cycle('obj');}else{stepFinished();}}function stepFinished(){vars.currentStep++
if(vars.currentStep>vars.maxStep){if(options['autoChange']){vars.currentStep=0;cycle('slide');}return;}cycle('step');}function iterateObjs(){var obj=$(fractionObjs[vars.currentObj]);obj.addClass('fs-animation');var position=obj.attr("data-position");var transition=obj.attr("data-in");var delay=obj.attr("data-delay");var time=obj.attr('data-time');var easing=obj.attr('data-ease-in');var special=obj.attr("data-special");if(position==null){position=options['position'].split(',');}else{position=position.split(',');}if(transition==null){transition=options['transitionIn'];}if(delay==null){delay=options['delay'];}if(easing==null){easing=options['easeIn'];}objectAnimationIn(obj,position,transition,delay,time,easing,special);vars.currentObj++;if(vars.currentObj<vars.maxObjs){cycle('obj');}else{vars.currentObj=0;}}function objFinished(obj){obj.removeClass('fs-animation');if(obj.attr('rel')==vars.currentSlide){vars.finishedObjs++;if(vars.finishedObjs==vars.maxObjs){stepFinished();}}}function objOut(){var objs=temp.lastSlide.children(':not([data-fixed])');objs.each(function(){var obj=$(this);var position=obj.position();var transition=obj.attr("data-out");var easing=obj.attr("data-ease-out");if(transition==null){transition=options['transitionOut'];}if(easing==null){easing=options['easeOut'];}objectAnimationOut(obj,position,transition,null,easing);}).promise().done(function(){endSlide();startSlide();});}function slideAnimationIn(){var slide=temp.currentSlide;var cssStart={},cssEnd={};var speed=options['slideTransitionSpeed'];var animation=temp.animation;if(options['responsive']){unit='%';}else{unit='px';}switch(animation){case'slideLeft':cssStart.left=sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'slideTop':cssStart.left=0+unit;cssStart.top=0-sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'slideBottom':cssStart.left=0+unit;cssStart.top=sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'slideRight':cssStart.left=0-sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'fade':cssStart.left=0+unit;cssStart.top=0+unit;cssStart.display='block';cssStart.opacity=0;cssEnd.opacity=1;break;case'none':cssStart.left=0+unit;cssStart.top=0+unit;cssStart.display='block';speed=0;break;case'scrollLeft':cssStart.left=sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'scrollTop':cssStart.left=0+unit;cssStart.top=0-sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'scrollBottom':cssStart.left=0+unit;cssStart.top=sliderHeight+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;case'scrollRight':cssStart.left=0-sliderWidth+unit;cssStart.top=0+unit;cssStart.display='block';cssEnd.left=0+unit;cssEnd.top=0+unit;break;}slide.css(cssStart).animate(cssEnd,speed,'linear',function(){startSlideComplete(slide);});}function slideAnimationOut(){var cssStart={},cssEnd={};var speed=options['slideTransitionSpeed'];var unit=null;var animation=temp.animation;if(options['responsive']){unit='%';}else{unit='px';}switch(animation){case'scrollLeft':cssEnd.left=0-sliderWidth+unit;cssEnd.top=0+unit;break;case'scrollTop':cssEnd.left=0+unit;cssEnd.top=sliderHeight+unit;break;case'scrollBottom':cssEnd.left=0+unit;cssEnd.top=0-sliderHeight+unit;break;case'scrollRight':cssEnd.left=sliderWidth+unit;cssEnd.top=0+unit;break;default:speed=0;break;}temp.lastSlide.animate(cssEnd,speed,'linear',function(){endSlideComplete();});}function objectAnimationIn(obj,position,transition,delay,time,easing,special){var cssStart={},cssEnd={};var speed=options['speedIn'],unit=null;if(options['responsive']){unit='%';}else{unit='px';}if(time!=null){speed=time-delay;}switch(transition){case'left':cssStart.top=position[0];cssStart.left=sliderWidth;break;case'bottomLeft':cssStart.top=sliderHeight;cssStart.left=sliderWidth;break;case'topLeft':cssStart.top=obj.outerHeight()*-1;cssStart.left=sliderWidth;break;case'top':cssStart.top=obj.outerHeight()*-1;cssStart.left=position[1];break;case'bottom':cssStart.top=sliderHeight;cssStart.left=position[1];break;case'right':cssStart.top=position[0];cssStart.left=0-offsetX-obj.outerWidth();break;case'bottomRight':cssStart.top=sliderHeight;cssStart.left=0-offsetX-obj.outerWidth();break;case'topRight':cssStart.top=obj.outerHeight()*-1;cssStart.left=0-offsetX-obj.outerWidth();break;case'fade':cssStart.top=position[0];cssStart.left=position[1];cssStart.opacity=0;cssEnd.opacity=1;break;case'none':cssStart.top=position[0];cssStart.left=position[1];cssStart.display='none';speed=0;break;}cssEnd.top=position[0];cssEnd.left=position[1];cssEnd.left=cssEnd.left+unit;cssEnd.top=cssEnd.top+unit;cssStart.left=cssStart.left+unit;cssStart.top=cssStart.top+unit;timeouts.push(setTimeout(function(){if(special=='cycle'&&obj.attr('rel')==vars.currentSlide){var tmp=obj.prev();if(tmp.length>0){var tmpPosition=$(tmp).attr('data-position').split(',');tmpPosition={'top':tmpPosition[0],'left':tmpPosition[1]};var tmpTransition=$(tmp).attr('data-out');if(tmpTransition==null){tmpTransition=options['transitionOut'];}objectAnimationOut(tmp,tmpPosition,tmpTransition,speed);}}obj.css(cssStart).show().animate(cssEnd,speed,easing,function(){objFinished(obj);}).addClass('fs_obj_active');},delay));}function objectAnimationOut(obj,position,transition,speed,easing){var cssStart={},cssEnd={};var speed=options['speedOut'],unit=null;if(options['responsive']){unit='%';}else{unit='px';}var w=obj.outerWidth(),h=obj.outerHeight();if(options['responsive']){w=pixelToPercent(w,dX);h=pixelToPercent(h,dY);}switch(transition){case'left':cssEnd.left=0-offsetX-100-w;break;case'bottomLeft':cssEnd.top=sliderHeight;cssEnd.left=0-offsetX-100-w;break;case'topLeft':cssEnd.top=-h;cssEnd.left=0-offsetX-100-w;break;case'top':cssEnd.top=-h;break;case'bottom':cssEnd.top=sliderHeight;break;case'right':cssEnd.left=sliderWidth;break;case'bottomRight':cssEnd.top=sliderHeight;cssEnd.left=sliderWidth;break;case'topRight':cssEnd.top=-h;cssEnd.left=sliderWidth;break;case'fade':cssStart.opacity=1;cssEnd.opacity=0;break;case'hide':cssEnd.display='none';speed=0;break;default:cssEnd.display='none';speed=0;break;}if(typeof cssEnd.top!=='undefined'){if(cssEnd.top.toString().indexOf('px')>0){cssEnd.top=cssEnd.top.substring(0,cssEnd.top.length-2);if(options['responsive']){cssEnd.top=pixelToPercent(cssEnd.top,dY);}}};if(typeof cssEnd.left!=='undefined'){if(cssEnd.left.toString().indexOf('px')>0){cssEnd.left=cssEnd.left.substring(0,cssEnd.left.length-2);if(options['responsive']){cssEnd.left=pixelToPercent(cssEnd.left,dX);}}}cssEnd.left=cssEnd.left+unit;cssEnd.top=cssEnd.top+unit;obj.css(cssStart).animate(cssEnd,speed,easing,function(){obj.hide();}).removeClass('fs_obj_active');}function backgroundAnimation(){if(options['backgroundElement']==null||options['backgroundElement']==""){var el=slider.parent();}else{var el=$(options['backgroundElement']);}var oldPos=el.css('background-position');oldPos=oldPos.split(' ');var moveX=options['backgroundX'];var moveY=options['backgroundY'];var x=Number(oldPos[0].replace(/[px,%]/g,''))+Number(moveX);var y=Number(oldPos[1].replace(/[px,%]/g,''))+Number(moveY);el.animate({backgroundPositionX:x+'px',backgroundPositionY:y+'px'},options['backgroundSpeed'],options['backgroundEase']);}function makeResponsive(){var d=options['dimensions'].split(',');dX=d['0'],dY=d['1'];var objs=slider.children('.slide').find('*');objs.each(function(){var obj=$(this),x=null,y=null,value=null;if(obj.attr("data-position")!=null){var position=obj.attr("data-position").split(',');x=pixelToPercent(position[1],dX);y=pixelToPercent(position[0],dY);obj.attr("data-position",y+','+x);}if(obj.attr("width")!=null){value=obj.attr("width");x=pixelToPercent(value,dX);obj.attr("width",x+"%");obj.css("width",x+"%");}else
if(obj.css('width')!='0px'){value=obj.css("width");if(value.indexOf('px')>0){value=value.substring(0,value.length-2);x=pixelToPercent(value,dX);obj.css("width",x+"%");};}else
if(obj.prop("tagName").toLowerCase()=='img'){value=obj.get(0).width;x=pixelToPercent(value,dX);obj.css("width",x+"%");}if(obj.attr("height")!=null){value=obj.attr("height");y=pixelToPercent(value,dY);obj.attr("height",y+"%");obj.css("height",y+"%");}else
if(obj.css('height')!='0px'){value=obj.css("height");if(value.indexOf('px')>0){value=value.substring(0,value.length-2);y=pixelToPercent(value,dY);obj.css("height",y+"%");};}else
if(obj.prop("tagName").toLowerCase()=='img'){value=obj.get(0).height;y=pixelToPercent(value,dY);obj.css("height",y+"%");}obj.attr('data-fontsize',obj.css('font-size'));});slider.css({'width':'auto','height':'auto'}).append('<div class="fs-stretcher" style="width:'+dX+'px; height:'+dY+'px"></div>');resizeSlider();$(window).bind('resize',function(){resizeSlider();});}function resizeSlider(){var w=slider.innerWidth(),h=slider.innerHeight();if(w<dX){var xy=dX/dY,nH=w/xy;slider.find('.fs-stretcher').css({'width':w+'px','height':nH+"px"});}var sW=slider.width();offsetX=pixelToPercent(((bodyWidth-sW)/2),dX);sliderWidth=100;if(options['fullWidth']){sliderWidth=100+offsetX*2;}sliderHeight=100;if(vars.init==false||w<dX){resizeFontSize();}}function resizeFontSize(){var value=null,n=null;var objs=slider.children('.slide').find('*');objs.each(function(){obj=$(this);var value=obj.attr('data-fontsize');if(value.indexOf('px')>0){value=value.substring(0,value.length-2);n=pixelToPercent(value,dY)*(slider.find('.fs-stretcher').height()/100);obj.css("fontSize",n+"px");obj.css("lineHeight",'100%');};});}function pixelToPercent(value,d){return value/(d/100);}function stopTimeout(timeout){clearTimeout(timeout);}function stopTimeouts(timeouts){var length=timeouts.length;$.each(timeouts,function(index){clearTimeout(this);if(index==length-1){timeouts=[];}});}}
>>>>>>> 22b89090880b6a9abb1725f3d04bc176363d07d2
$.fn.fractionSlider=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.tooltip');}};var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2;};});})(jQuery);